<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="./styles/reset.css">
    <link rel="stylesheet" href="./styles/styleProfile.css">
    <style>
        .container {
            text-align: center;
            margin: 0 auto;
            width: 80%;
        }
        table {
            border-collapse: collapse;
            margin: 20px auto;
            width: 60%;
        }
        th, td {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .rowInd1 {
            height: 12vh;
            background-color: #f0f0f0;
            color: #008000;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 200%;
        }
        .greetings {
            font-size: 7.5vh; 
            padding-top: 2vh;
            padding-bottom: 2vh;
        }
        .update-form {
            display: none; /* Hide the form initially */
        }
        .update-button {
            background-color: #008000;
            color: #f0f0f0;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            background-color: #008000;
            padding: 0px;

        }
        nav a {
            list-style-type: none;
            color: #f0f0f0;
            text-decoration: none;
            font-size: 1.25rem;
            margin: 11px;
        }
        nav .nav-links {
            display: flex;
        }
        .nav-links a {
            margin-right: 20px;
        }
    </style>
</head>
<body>
    <div class="rowInd1">
        <h1>FusionFarm</h1>
    </div>
    <nav>
        <div class="nav-links">
            <a href="<%= homePage %>"> Home</a> 
        </div>
        <a href="/logout"> Logout</a>
    </nav>
    <div class="container">
        <h1 class="greetings">Hello, <%= user.name %>!</h1>

        <!-- Display user details in a table -->
        <table>
            <tr><th>Phone Number</th><td><%= user.phone_number %></td></tr>
            <tr><th>House No</th><td><%= user.H_No %></td></tr>
            <tr><th>Street</th><td><%= user.village_city %></td></tr>
            <tr><th>Mandal</th><td><%= user.Mandal %></td></tr>
            <tr><th>District</th><td><%= user.District %></td></tr>
            <tr><th>State</th><td><%= user.State %></td></tr>
            <tr><th>Landmark</th><td><%= user.Landmark %></td></tr>
            <tr><th>Pincode</th><td><%= user.Pincode %></td></tr>
        </table>

        <button class="update-button" onclick="toggleUpdateForm()">Update Profile</button>

        <!-- Update form (Initially Hidden) -->
        <div class="update-form" id="updateForm">
            <form action="/profile" method="post">
                <input type="password" name="Password" class="registerInput" placeholder="New Password"><br>
                <input type="password" name="ReenterPassword" class="registerInput" placeholder="Re-enter Password"><br>
                <input type="text" name="HNo" class="registerInput" placeholder="House No" value="<%= user.HNo %>"><br>
                <input type="text" name="village_city" class="registerInput" placeholder="Street" value="<%= user.village_city %>"><br>
                <input type="text" name="Mandal" class="registerInput" placeholder="Mandal" value="<%= user.Mandal %>"><br>
                <input type="text" name="District" class="registerInput" placeholder="District" value="<%= user.District %>"><br>
                <input type="text" name="State" class="registerInput" placeholder="State" value="<%= user.State %>"><br>
                <input type="text" name="Landmark" class="registerInput" placeholder="Landmark" value="<%= user.Landmark %>"><br>
                <input type="text" name="Pincode" class="registerInput" placeholder="Pin Code" value="<%= user.Pincode %>"><br>
                <input type="submit" class="signUpSubmitButton" value="Update">
            </form>
        </div>
    </div>

    <script>
        function toggleUpdateForm() {
            const form = document.getElementById("updateForm");
            form.style.display = form.style.display === "none" ? "block" : "none";
        }
    </script>
</body>
</html>
